(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4031:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>f,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),r(5480),r(2029),r(5866);var a=r(3191),i=r(8716),s=r(7922),n=r.n(s),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"/Users/apple/Documents/library/basic-nextjs/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/apple/Documents/library/basic-nextjs/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/apple/Documents/library/basic-nextjs/src/app/page.tsx"],d="/page",f={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6874:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},9110:()=>{},7885:(e,t,r)=>{Promise.resolve().then(r.bind(r,3847))},3847:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var a=r(326),i=r(7577),s=r(6212);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),u=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,i.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:n,iconNode:o,...l},f)=>(0,i.createElement)("svg",{ref:f,...d,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:c("lucide",s),...!n&&!u(l)&&{"aria-hidden":"true"},...l},[...o.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(n)?n:[n]])),m=(e,t)=>{let r=(0,i.forwardRef)(({className:r,...a},s)=>(0,i.createElement)(f,{ref:s,iconNode:t,className:c(`lucide-${n(l(e))}`,`lucide-${e}`,r),...a}));return r.displayName=l(e),r},p=m("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),h=m("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),y=m("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),x=m("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g=m("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function N(){let{notifications:e,unreadCount:t,markAsRead:r,markAllAsRead:n,deleteNotification:o,refreshNotifications:l,isLoading:c,error:u}=(0,s.zn)(),[d,f]=(0,i.useState)(!1),m=(0,i.useRef)(null);return a.jsx("div",{className:"flex flex-col gap-8",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notification Demo"}),a.jsx("p",{className:"mb-4",children:"This is a basic example of how to use the react-notification-core library. Click the bell icon to see your notifications."}),a.jsx("div",{className:"flex justify-end items-center",children:(0,a.jsxs)("div",{className:"relative",ref:m,children:[(0,a.jsxs)("button",{onClick:()=>f(!d),className:"relative p-2 text-gray-700 hover:bg-gray-100 rounded-full transition-colors","aria-label":`Notifications ${t>0?`(${t} unread)`:""}`,children:[a.jsx(p,{size:24}),t>0&&a.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:t>99?"99+":t})]}),d&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg z-10 border border-gray-200 overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-3 border-b flex justify-between items-center bg-gray-50",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-800",children:["Notifications",t>0&&(0,a.jsxs)("span",{className:"ml-2 text-xs font-normal text-gray-500",children:[t," unread"]})]}),t>0&&(0,a.jsxs)("button",{onClick:()=>n(),className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(h,{size:14}),"Mark all as read"]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?(0,a.jsxs)("div",{className:"p-4 text-center text-gray-500 flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin mr-2",children:a.jsx(y,{size:16})}),"Loading notifications..."]}):u?(0,a.jsxs)("div",{className:"p-4 text-center text-red-500 flex items-center justify-center gap-2",children:[a.jsx(x,{size:16}),"Error: ",u]}):0===e.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500 flex flex-col items-center justify-center",children:[a.jsx(p,{size:32,className:"text-gray-300 mb-2"}),a.jsx("p",{children:"No notifications"})]}):a.jsx("ul",{className:"divide-y divide-gray-100",children:e.map(e=>(0,a.jsxs)("li",{className:`p-3 hover:bg-gray-50 transition-colors ${e.read?"":"bg-blue-50"}`,children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("h4",{className:`font-medium text-gray-800 ${e.read?"":"font-semibold"}`,children:e.title}),a.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap ml-2",children:(0,s.i$)(e.timestamp)})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,a.jsxs)("div",{className:"flex justify-end mt-2 space-x-3",children:[!e.read&&(0,a.jsxs)("button",{onClick:()=>r(e.id),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(h,{size:12}),"Mark as read"]}),(0,a.jsxs)("button",{onClick:()=>o(e.id),className:"text-xs text-red-500 hover:text-red-700 flex items-center gap-1",children:[a.jsx(g,{size:12}),"Delete"]})]})]},e.id))})}),a.jsx("div",{className:"p-2 border-t bg-gray-50",children:(0,a.jsxs)("button",{onClick:()=>l(),className:"w-full py-1.5 text-sm text-gray-700 hover:bg-gray-100 rounded flex items-center justify-center gap-1 transition-colors",children:[a.jsx(y,{size:14}),"Refresh"]})})]})]})})]})})}let b=[{id:"1",title:"Welcome to the app",message:"Thanks for trying out our notification system!",timestamp:new Date(Date.now()-3e5),read:!1,type:"info"},{id:"2",title:"New feature available",message:"Check out our new dashboard features.",timestamp:new Date(Date.now()-36e5),read:!0,type:"info"},{id:"3",title:"Action required",message:"Please verify your email address.",timestamp:new Date(Date.now()-72e5),read:!1,type:"warning"},{id:"4",title:"Payment successful",message:"Your subscription has been renewed.",timestamp:new Date(Date.now()-864e5),read:!0,type:"success"},{id:"5",title:"Login attempt",message:"A new login was detected from an unknown device.",timestamp:new Date(Date.now()-1728e5),read:!1,type:"error"}];async function v(){if(await new Promise(e=>setTimeout(e,500)),.1>Math.random())throw Error("Failed to fetch notifications");return[...b]}async function w(e){await new Promise(e=>setTimeout(e,300)),b=b.map(t=>t.id===e?{...t,read:!0}:t)}async function j(){await new Promise(e=>setTimeout(e,300)),b=b.map(e=>({...e,read:!0}))}async function C(e){await new Promise(e=>setTimeout(e,300)),b=b.filter(t=>t.id!==e)}function k(){return a.jsx("main",{className:"min-h-screen p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Basic Notification Example"}),a.jsx(s.JB,{fetchNotifications:v,onMarkAsRead:w,onMarkAllAsRead:j,onDeleteNotification:C,fetchOptions:{retryCount:2,retryDelay:1e3,timeout:5e3},children:a.jsx(N,{})})]})})}},5940:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotifications=t.NotificationProvider=void 0;let a=r(326),i=r(7577),s=r(4484),n={notifications:[],unreadCount:0,isLoading:!1,error:null,lastUpdated:null},o=(0,i.createContext)(void 0);function l(e,t){switch(t.type){case"FETCH_NOTIFICATIONS_REQUEST":return{...e,isLoading:!0,error:null};case"FETCH_NOTIFICATIONS_SUCCESS":return{...e,notifications:t.payload,unreadCount:t.payload.filter(e=>!e.read).length,isLoading:!1,error:null,lastUpdated:new Date};case"FETCH_NOTIFICATIONS_FAILURE":return{...e,isLoading:!1,error:t.payload};case"ADD_NOTIFICATION":return{...e,notifications:[t.payload,...e.notifications],unreadCount:e.unreadCount+(t.payload.read?0:1),lastUpdated:new Date};case"MARK_AS_READ":return{...e,notifications:e.notifications.map(e=>e.id===t.payload?{...e,read:!0}:e),unreadCount:e.unreadCount-(e.notifications.find(e=>e.id===t.payload&&!e.read)?1:0),lastUpdated:new Date};case"MARK_ALL_AS_READ":return{...e,notifications:e.notifications.map(e=>({...e,read:!0})),unreadCount:0,lastUpdated:new Date};case"DELETE_NOTIFICATION":let r=e.notifications.find(e=>e.id===t.payload);return{...e,notifications:e.notifications.filter(e=>e.id!==t.payload),unreadCount:e.unreadCount-(r&&!r.read?1:0),lastUpdated:new Date};case"CLEAR_ALL_NOTIFICATIONS":return{...e,notifications:[],unreadCount:0,lastUpdated:new Date};default:return e}}t.NotificationProvider=({children:e,fetchNotifications:t,onMarkAsRead:r,onMarkAllAsRead:c,onDeleteNotification:u,fetchOptions:d={retryCount:3,retryDelay:1e3,timeout:1e4},initialState:f={}})=>{let[m,p]=(0,i.useReducer)(l,{...n,...f}),h=(0,i.useRef)(d);(0,i.useEffect)(()=>{h.current=d},[d]),(0,i.useEffect)(()=>{t&&y()},[t]);let y=(0,i.useCallback)(async()=>{if(t)try{p({type:"FETCH_NOTIFICATIONS_REQUEST"});let e=await (0,s.fetchWithRetry)(t,h.current);p({type:"FETCH_NOTIFICATIONS_SUCCESS",payload:e})}catch(e){p({type:"FETCH_NOTIFICATIONS_FAILURE",payload:e instanceof Error?e.message:"Failed to fetch notifications"})}},[t]),x=(0,i.useCallback)(async e=>{if(r)try{await r(e)}catch(e){throw console.error("Error marking notification as read:",e),e}p({type:"MARK_AS_READ",payload:e})},[r]),g=(0,i.useCallback)(async()=>{if(c)try{await c()}catch(e){throw console.error("Error marking all notifications as read:",e),e}p({type:"MARK_ALL_AS_READ"})},[c]),N=(0,i.useCallback)(async e=>{if(u)try{await u(e)}catch(e){throw console.error("Error deleting notification:",e),e}p({type:"DELETE_NOTIFICATION",payload:e})},[u]),b=(0,i.useCallback)(e=>{p({type:"ADD_NOTIFICATION",payload:e})},[]),v=(0,i.useCallback)(()=>{p({type:"CLEAR_ALL_NOTIFICATIONS"})},[]),w=(0,i.useCallback)(async()=>{await y()},[y]),j={...m,addNotification:b,markAsRead:x,markAllAsRead:g,deleteNotification:N,clearAllNotifications:v,refreshNotifications:w};return(0,a.jsx)(o.Provider,{value:j,children:e})},t.useNotifications=()=>{let e=(0,i.useContext)(o);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},2128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationFilters=void 0;let a=r(7577),i=r(5940),s=r(4484);t.useNotificationFilters=()=>{let{notifications:e}=(0,i.useNotifications)(),[t,r]=(0,a.useState)({}),n=(0,a.useMemo)(()=>(0,s.filterNotifications)(e,t),[e,t]),o=(0,a.useCallback)(e=>{r(t=>({...t,read:e}))},[]),l=(0,a.useCallback)(e=>{r(t=>({...t,type:e}))},[]),c=(0,a.useCallback)(e=>{r(t=>({...t,search:e}))},[]);return{filters:t,filteredNotifications:n,filterByReadStatus:o,filterByType:l,filterBySearch:c,filterByDateRange:(0,a.useCallback)((e,t)=>{r(r=>({...r,fromDate:e,toDate:t}))},[]),resetFilters:(0,a.useCallback)(()=>{r({})},[]),countsByType:(0,a.useMemo)(()=>e.reduce((e,t)=>{let r=t.type||"default";return e[r]=(e[r]||0)+1,e},{}),[e]),totalCount:e.length,filteredCount:n.length,unreadCount:e.filter(e=>!e.read).length}}},1511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationGroups=void 0;let a=r(7577),i=r(5940),s=r(4484);t.useNotificationGroups=(e=s.groupNotificationsByDate)=>{let{notifications:t}=(0,i.useNotifications)(),r=(0,a.useMemo)(()=>e(t),[t,e]),n=(0,a.useMemo)(()=>Object.keys(r),[r]);return{groupedNotifications:r,groups:n,getNotificationsForGroup:e=>r[e]||[],groupedByType:(0,a.useMemo)(()=>t.reduce((e,t)=>{let r=t.type||"default";return e[r]||(e[r]=[]),e[r].push(t),e},{}),[t])}}},9312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationPolling=void 0;let a=r(7577),i=r(5940),s=r(4484);t.useNotificationPolling=({enabled:e=!0,interval:t=6e4,onError:r,retryCount:n=3,retryDelay:o=1e3}={})=>{let{refreshNotifications:l}=(0,i.useNotifications)(),c=(0,a.useRef)(null),u=(0,a.useRef)(e),d=(0,a.useCallback)(async()=>{try{await (0,s.fetchWithRetry)(l,{retryCount:n,retryDelay:o})}catch(e){r?r(e):console.error("Error polling notifications:",e)}},[l,n,o,r]);return(0,a.useEffect)(()=>(u.current=e,e&&(d(),c.current=setInterval(d,t)),()=>{c.current&&(clearInterval(c.current),c.current=null)}),[e,t,d]),{refresh:d,stopPolling:(0,a.useCallback)(()=>{u.current=!1,c.current&&(clearInterval(c.current),c.current=null)},[]),startPolling:(0,a.useCallback)(()=>{u.current=!0,c.current&&clearInterval(c.current),d(),c.current=setInterval(d,t)},[d,t]),isPolling:()=>u.current}}},6506:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationStorage=void 0;let a=r(7577),i=r(5940),s=(()=>{let e={};return{getItem:t=>{var r;return null!==(r=e[t])&&void 0!==r?r:null},setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}})();t.useNotificationStorage=({storageKey:e="notifications",useSessionStorage:t=!1}={})=>{let{notifications:r,addNotification:n,markAsRead:o,markAllAsRead:l,deleteNotification:c,clearAllNotifications:u}=(0,i.useNotifications)(),[d,f]=(0,a.useState)(s);return(0,a.useEffect)(()=>{},[t]),(0,a.useEffect)(()=>{try{let t=d.getItem(e);t&&JSON.parse(t).forEach(e=>{n(e)})}catch(e){console.error("Error loading notifications from storage:",e)}},[d,e,n]),(0,a.useEffect)(()=>{try{d.setItem(e,JSON.stringify(r))}catch(e){console.error("Error saving notifications to storage:",e)}},[r,d,e]),{addNotification:async e=>{n(e)},markAsRead:async e=>{await o(e)},markAllAsRead:async()=>{await l()},deleteNotification:async e=>{await c(e)},clearAllNotifications:()=>{u()},clearStorage:()=>{d.removeItem(e)}}}},6212:(e,t,r)=>{"use strict";t.i$=t.zn=t.JB=void 0;var a=r(5940);Object.defineProperty(t,"JB",{enumerable:!0,get:function(){return a.NotificationProvider}}),Object.defineProperty(t,"zn",{enumerable:!0,get:function(){return a.useNotifications}}),r(9312),r(6506),r(2128),r(1511);var i=r(4484);Object.defineProperty(t,"i$",{enumerable:!0,get:function(){return i.formatTimestamp}})},4484:(e,t)=>{"use strict";async function r(e,t={}){let{retryCount:r=3,retryDelay:a=1e3,timeout:i=1e4}=t,s=null;for(let t=0;t<=r;t++)try{let t=new Promise((e,t)=>{setTimeout(()=>{t(Error(`Request timed out after ${i}ms`))},i)});return await Promise.race([e(),t])}catch(i){if(s=i instanceof Error?i:Error(String(i)),t===r)throw s;let e=a*Math.pow(2,t);await new Promise(t=>setTimeout(t,e))}throw s||Error("Unknown error during fetch with retry")}Object.defineProperty(t,"__esModule",{value:!0}),t.filterNotifications=t.groupNotificationsByDate=t.formatTimestamp=t.fetchWithRetry=void 0,t.fetchWithRetry=r,t.formatTimestamp=function(e){let t="string"==typeof e?new Date(e):e,r=Math.floor((new Date().getTime()-t.getTime())/1e3);if(r<60)return"just now";if(r<3600){let e=Math.floor(r/60);return`${e} ${1===e?"minute":"minutes"} ago`}if(r<86400){let e=Math.floor(r/3600);return`${e} ${1===e?"hour":"hours"} ago`}{if(!(r<604800))return t.toLocaleDateString();let e=Math.floor(r/86400);return`${e} ${1===e?"day":"days"} ago`}},t.groupNotificationsByDate=function(e){return e.reduce((e,t)=>{let r=("string"==typeof t.timestamp?new Date(t.timestamp):t.timestamp).toDateString();return e[r]||(e[r]=[]),e[r].push(t),e},{})},t.filterNotifications=function(e,t){return e.filter(e=>{var r,a;if(void 0!==t.read&&e.read!==t.read||t.type&&e.type!==t.type)return!1;if(t.search){let i=t.search.toLowerCase(),s=null===(r=e.title)||void 0===r?void 0:r.toLowerCase().includes(i),n=null===(a=e.message)||void 0===a?void 0:a.toLowerCase().includes(i);if(!s&&!n)return!1}if(t.fromDate||t.toDate){let r="string"==typeof e.timestamp?new Date(e.timestamp):e.timestamp;if(t.fromDate&&r<t.fromDate)return!1;if(t.toDate){let e=new Date(t.toDate);if(e.setDate(e.getDate()+1),r>e)return!1}}return!0})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>n});var a=r(9510),i=r(5317),s=r.n(i);r(5023);let n={title:"Basic Notification Example",description:"Basic example of react-notification-core"};function o({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:s().className,children:e})})}},5480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/Users/apple/Documents/library/basic-nextjs/src/app/page.tsx#default`)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[975],()=>r(4031));module.exports=a})();